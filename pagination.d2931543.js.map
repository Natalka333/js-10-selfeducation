{"mappings":"AAAA,MAGMA,EAAU,CACZC,QAAS,CACLC,cALQ,qCCGhB,MAAMC,EAASC,SAASC,cAAc,YAChCC,EAAUF,SAASC,cAAc,aACjCE,EAAYH,SAASC,cAAc,sBAGnCG,EAAiB,IDCR,MAMXC,gBAGa,MAAHC,EAAM,uCAA4BC,KAAKC,2CAA2CD,KAAKE,OAE7F,OAAOC,MAAMJ,EAAKV,GACbe,MAAKC,GAAYA,EAASC,SAC1BF,MAAK,EAACG,SAAEA,MAELP,KAAKQ,gBAEED,I,CAInBC,gBACIR,KAAKE,MAAQ,C,CAGjBO,YACIT,KAAKE,KAAO,C,CAGZQ,YACA,OAAOV,KAAKC,W,CAGZS,UAAMC,GACNX,KAAKC,YAAcU,C,CAjCvBC,cACIZ,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GCHpBW,QAAQC,IAAIjB,GAEZL,EAAOuB,iBAAiB,UAIxB,SAAkBC,GAOd,GANAA,EAAEC,iBAqBN,WACIrB,EAAUsB,UAAY,E,CApBtBC,GAEAtB,EAAea,MAAQM,EAAEI,cAAcC,SAASX,MAAMY,MAE1B,KAAzBzB,EAAea,MACd,OAAOa,MAAM,mBAIjB1B,EAAeY,YACfZ,EAAeC,gBAAgBM,MAAKG,GAAYM,QAAQC,IAAIP,I,IAhBhEZ,EAAQoB,iBAAiB,SAoBzB,WACIlB,EAAeC,gBAAgBM,MAAKG,GAAYM,QAAQC,IAAIP,I","sources":["src/API-service.js","src/pagination.js"],"sourcesContent":["const API_KEY = '0bd27c01866f453fb86ca5c40830dd1c';\nconst BASE_URL = 'https://newsapi.org/v2';\n\nconst options = {\n    headers: {\n        'Authorization': API_KEY,\n    },\n};\n\nexport default class NewsApiService {\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n    }\n\n    fetchArticles() {\n        // console.log('до запроса:', this);\n        \n        const url = `${BASE_URL}/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;\n\n        return fetch(url, options)\n            .then(response => response.json())\n            .then(({ articles }) => {\n\n                this.incrementPage();\n                // console.log('после запроса: ', this)\n                return articles;\n            });\n    }\n\n    incrementPage() {\n        this.page += 1;\n    }\n\n    resetPage() {\n        this.page = 1;\n    }\n\n    get query() {\n        return this.searchQuery;\n    }\n\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n\n}\n\n","import './css/common.css'\nimport NewsApiService from './API-service';\n\nconst formEl = document.querySelector('.form-js');\nconst btnLoad = document.querySelector('.btn-load');\nconst container = document.querySelector('.article-container');\n\n\nconst newsApiService = new NewsApiService();\nconsole.log(newsApiService)\n\nformEl.addEventListener('submit', onSearch);\nbtnLoad.addEventListener('click', onLoadBtn)\n\n\nfunction onSearch(e) {\n    e.preventDefault();\n\n    clearArticlesContainer();\n\n    newsApiService.query = e.currentTarget.elements.query.value;\n\n    if(newsApiService.query === '') {\n        return alert('Введите запрос!')\n    };\n\n    // console.log(searchQuery);\n    newsApiService.resetPage();\n    newsApiService.fetchArticles().then(articles => console.log(articles));\n\n};\n\nfunction onLoadBtn() {\n    newsApiService.fetchArticles().then(articles => console.log(articles));\n};\n\n\nfunction clearArticlesContainer() {\n    container.innerHTML = '';\n}\n// function addArticlesContainerMurkup(articles) {\n//     const murkup = articles.map((article) => {\n//         return `\n//         <li>\n//         <a href='${article.url}'>\n//         <article>\n//         <img src='${article.urlToImage}' alt='' width='480'>\n//         <h2>${article.title}</h2>\n//         <p>Posted by: ${article.author}</p>\n//         <p>${article.description}</p>\n//         </article>\n//         </a>\n//         </li>`\n        \n//     }).join('');\n    \n//     container.insertAdjacentHTML('beforeend', murkup);\n//     }\n    "],"names":["$f063d0cb9b6e9b97$var$options","headers","Authorization","$a593388852b485da$var$formEl","document","querySelector","$a593388852b485da$var$btnLoad","$a593388852b485da$var$container","$a593388852b485da$var$newsApiService","fetchArticles","url","this","searchQuery","page","fetch","then","response","json","articles","incrementPage","resetPage","query","newQuery","constructor","console","log","addEventListener","e","preventDefault","innerHTML","$a593388852b485da$var$clearArticlesContainer","currentTarget","elements","value","alert"],"version":3,"file":"pagination.d2931543.js.map"}